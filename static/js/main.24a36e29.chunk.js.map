{"version":3,"sources":["pages/detail/store/reducer.js","pages/detail/store/constants.js","pages/detail/store/actionCreators.js","pages/detail/store/index.js","statics/logo.png","common/header/style.js","common/header/store/actionCreator.js","common/header/store/constants.js","pages/login/store/reducer.js","pages/login/store/actionCreators.js","pages/login/store/constants.js","common/header/index.js","common/header/store/reducer.js","pages/home/store/reducer.js","pages/home/store/actionCreators.js","pages/home/store/constants.js","store/reducer.js","store/index.js","pages/home/style.js","pages/home/components/Topic.js","pages/home/components/List.js","pages/home/components/Recommend.js","pages/home/components/Writer.js","pages/home/index.js","pages/detail/loadable.js","pages/login/style.js","pages/login/index.js","pages/write/index.js","App.js","index.js"],"names":["defaultState","fromJS","title","content","reducer","state","arguments","length","undefined","action","type","merge","getDetail","id","dispatch","axios","get","then","res","result","data","__webpack_require__","d","__webpack_exports__","actionCreators_namespaceObject","module","exports","HeaderWrapper","styled","div","_templateObject","Logo","_templateObject2","logoPic","Nav","_templateObject3","NavItem","_templateObject4","NavSearch","input","attrs","placeholder","_templateObject5","SearchInfo","_templateObject6","SearchInfoTitle","_templateObject7","SearchInfoSwitch","span","_templateObject8","SearchInfoList","_templateObject9","SearchInfoItem","a","_templateObject10","Addition","_templateObject11","Button","_templateObject12","changePage","page","getList","pageTotal","Math","ceil","changeList","login","accout","password","value","alert","logout","Header","_this","this","newList","props","list","toJS","pageList","i","push","react_default","createElement","key","focused","mouseIn","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","onClick","handleChangePage","_this2","react_router_dom","to","className","CSSTransition","in","timeout","classNames","onFocus","handleInputFocus","onBlur","handleInputBlur","getListArea","React","Component","connect","getIn","size","actionCreators","loginActionCreators","topicList","articleList","recommendList","articlePage","showScroll","getHomeInfo","changHomeData","getMoreList","nextPage","toggleTopShow","show","combineReducers","header","set","home","concat","detail","detailReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","HomeWrapper","style_templateObject","HomeLeft","style_templateObject2","HomeRight","style_templateObject3","TopicWrapper","style_templateObject4","TopicItem","style_templateObject5","ListItem","style_templateObject6","ListInfo","style_templateObject7","RecommendWrapper","style_templateObject8","RecommendItem","style_templateObject9","imgUrl","WriterWrapper","style_templateObject10","LoadMore","style_templateObject11","BackTop","style_templateObject12","Topic","map","x","src","alt","PureComponent","List","index","Recommend","item","Writer","Home","scrollTo","components_Topic","components_List","components_Recommend","components_Writer","handleScrollTop","changeHomeData","bindEvents","removeEventListener","changeScrollTopShow","addEventListener","e","document","documentElement","scrollTop","LoadableComponent","Loadable","loader","bind","loading","loadable","LoginWrapper","login_style_templateObject","LoginBox","login_style_templateObject2","Input","login_style_templateObject3","login_style_templateObject4","Login","loginStatus","react_router","ref","account","style_Button","accountElem","passwordElem","Write","App","es","path","exact","component","Detail","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.24a36e29.chunk.js","sourcesContent":["import { fromJS } from 'immutable';\r\nimport * as constants from './constants';\r\n\r\n//  初始数据,标题和内容\r\nconst defaultState = fromJS({\r\n\ttitle: '',\r\n    content: ''\r\n});\r\n\r\nexport default (state = defaultState, action) => {\r\n\tswitch(action.type) {\r\n        case constants.CHANGE_DETAIL:\r\n\t\t\treturn state.merge({\r\n\t\t\t\ttitle: action.title,\r\n\t\t\t\tcontent: action.content\r\n\t\t\t})\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}","export const CHANGE_DETAIL = 'detail/CHANGE_DETAIL';","import axios from 'axios';\r\nimport * as constants from './constants';\r\n\r\nconst changeDetail = (title, content) => ({\r\n\ttype: constants.CHANGE_DETAIL,\r\n\ttitle: title,\r\n\tcontent: content\r\n});\r\n\r\nexport const getDetail = (id) => {\r\n\treturn (dispatch) => {\r\n\t\taxios.get('/react-jianshu-1/api/detail.json?id=' + id).then((res) => {\r\n\t\t\tconst result = res.data.data;\r\n\t\t\tdispatch(changeDetail(result.title, result.content));\r\n\t\t})\r\n\t}\r\n};","import reducer from './reducer';\r\nimport * as actionCreators from './actionCreators';\r\nimport * as constants from './constants';\r\n\r\nexport { reducer, actionCreators, constants };","module.exports = \"data:image/png;base64,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\"","import styled from \"styled-components\"\r\n// webpack找不到图标路径,必须先在这里引入\r\nimport logoPic from \"../../statics/logo.png\"\r\n\r\n// 这是一个带样式的div,并且导出成一个组件,简称样式组件\r\n//  公用头部组件\r\nexport const HeaderWrapper = styled.div`\r\n    z-index: 1;\r\n    height:56px;\r\n    position:relative;\r\n    border-bottom: 1px solid #f0f0f0;\r\n`;\r\n//  logo\r\nexport const Logo = styled.div`\r\n    top: 0;\r\n\tleft: 0;\r\n\tdisplay: inline-block;\r\n\twidth: 100px;\r\n\theight: 56px;\r\n    background: url(${logoPic});\r\n    background-size: contain;\r\n`;\r\n// 导航容器\r\nexport const Nav = styled.div`\r\n    width: 960px;\r\n\theight: 100%;\r\n\tmargin: 0 auto;\r\n\tpadding-right: 70px;\r\n\tbox-sizing: border-box;\r\n    display: inline-block;\r\n`;\r\n// 具体导航按钮\r\nexport const NavItem = styled.div`\r\n    float:left;\r\n    line-height: 56px;\r\n\tpadding: 0 15px;\r\n\tfont-size: 17px;\r\n\tcolor: #333;\r\n    &.left{SearchInfoSearchInfo\r\n        float:left;\r\n    }\r\n    &.right{\r\n        float:right;\r\n        color: #969696;\r\n    }\r\n    &.active{\r\n        color: #ea6f5a;\r\n    }\r\n`;\r\n// 搜索input框\r\nexport const NavSearch = styled.input.attrs({\r\n    placeholder: '搜索'\r\n})`\r\n    float:left;\r\n    width: 160px;\r\n\theight: 38px;\r\n\tpadding: 0 20px;\r\n\tmargin-top: 9px;\r\n\tmargin-left: 20px;\r\n\tbox-sizing: border-box;\r\n\tborder: none;\r\n\toutline: none;\r\n\tborder-radius: 19px;\r\n\tbackground: #eee;\r\n\tfont-size: 14px;\r\n    display:inline-block;\r\n\tcolor: #666;\r\n\t&::placeholder {\r\n\t\tcolor: #999;\r\n\t}\r\n    // 点击效果\r\n    &.focused {\r\n\t\twidth: 240px;\r\n\t}\r\n    //  点开动画效果\r\n    &.slide-enter {\r\n\t\ttransition: all .2s ease-out;\r\n\t}\r\n\t&.slide-enter-active {\r\n\t\twidth: 240px;\r\n\t}\r\n    //  收起动画效果\r\n\t&.slide-exit {\r\n\t\ttransition: all .2s ease-out;\r\n\t}\r\n\t&.slide-exit-active {\r\n\t\twidth: 160px;\r\n\t}\r\n`;\r\n//  搜索提示框\r\nexport const SearchInfo = styled.div`\r\n\tposition: absolute;\r\n\tleft: 270px;\r\n\ttop: 56px;\r\n\twidth: 240px;\r\n\tpadding: 0 20px;\r\n\tbox-shadow: 0 0 8px rgba(0, 0, 0, .2);\r\n\tbackground: #fff;\r\n`;\r\n//  标题\r\nexport const SearchInfoTitle = styled.div`\r\n\tmargin-top: 20px;\r\n\tmargin-bottom: 15px;\r\n\tline-height: 20px;\r\n\tfont-size: 14px;\r\n\tcolor: #969696;\r\n`;\r\n//  标题右侧换一换\r\nexport const SearchInfoSwitch = styled.span`\r\n\tfloat: right;\r\n\tfont-size: 13px;\r\n\tcursor: pointer;\r\n\t.spin {\r\n\t\tdisplay: block;\r\n\t\tfloat: left;\r\n\t\tfont-size: 12px;\r\n\t\tmargin-right: 2px;\r\n\t\ttransition: all .2s ease-in;\r\n\t\ttransform-origin: center center;\r\n\t}\r\n`;\r\n//  搜索提示div具体每个小按钮的包裹容器\r\nexport const SearchInfoList = styled.div`\r\n\toverflow: hidden;\r\n`;\r\n//  搜索提示div具体每个小按钮\r\nexport const SearchInfoItem = styled.a`\r\n\tdisplay: block;\r\n\tfloat: left;\r\n\tline-height: 20px;\r\n\tpadding: 0 5px;\r\n\tmargin-right: 10px;\r\n\tmargin-bottom: 15px;\r\n\tfont-size: 12px;\r\n\tborder: 1px solid #ddd;\r\n\tcolor: #787878;\r\n\tborder-radius: 3px;\r\n`;\r\n// 包裹注册和写文章按钮的容器\r\nexport const Addition = styled.div`\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 0;\r\n\theight: 56px;\r\n`;\r\n// 注册和写文章按钮\r\nexport const Button = styled.div`\r\n\tfloat: right;\r\n\tmargin-top: 9px;\r\n\tmargin-right: 20px;\r\n\tpadding: 0 20px;\r\n\tline-height: 38px;\r\n\tborder-radius: 19px;\r\n\tborder: 1px solid #ec6149;\r\n\tfont-siz: 14px;\r\n\t&.reg {\r\n\t\tcolor: #ec6149;\r\n\t}\r\n\t&.writting {\r\n\t\tcolor: #fff;\r\n\t\tbackground: #ec6149;\r\n\t}\r\n`","//  帮助我们创建action的文件\r\nimport * as constants from './constants.js'\r\n//  发送ajax请求的模块\r\nimport axios from \"axios\"\r\n\r\nimport { fromJS } from 'immutable'\r\n//  自己用的函数\r\nconst changeList = function(data){\r\n    return {\r\n        type: constants.CHANGE_LIST,\r\n        //  把数据改变成immutable的类型\r\n        data: fromJS(data),\r\n        //  每页10条数据,算一下一共有多少页\r\n        pageTotal: Math.ceil(data.length/10)\r\n    }\r\n}\r\n//  导出的\r\nexport const searchFocus = function(){\r\n    return {\r\n        type: constants.SEARCH_FOCUS\r\n    }\r\n};\r\nexport const searchBlur = function(){\r\n    return {\r\n        type: constants.SEARCH_BLUR\r\n    }\r\n};\r\nexport const mouseEnter = function(){\r\n    return {\r\n        type: constants.MOUSE_ENTER\r\n    }\r\n};\r\nexport const mouseLeave = function(){\r\n    return {\r\n        type: constants.MOUSE_LEAVE\r\n    }\r\n};\r\nexport const changePage = function(page){\r\n    return {\r\n        type: constants.CHANGE_PAGE,\r\n        //  将page参数传递给reducer\r\n        page:page\r\n    }\r\n};\r\n//  使用redux-thunk可以直接返回函数,必须使用redux-thunk\r\nexport const getList = function(){\r\n    return function(dispatch){\r\n        //  派发一个异步的请求\r\n        axios.get('/api/headerList.json').then((res)=>{\r\n            const data = res.data;\r\n            //  更改store里面的数据\r\n            dispatch(changeList(data.data));\r\n        })\r\n    }\r\n}","export const SEARCH_FOCUS = 'header/SEARCH_FOCUS';\r\nexport const SEARCH_BLUR  = 'header/SEARCH_BLUR';\r\nexport const CHANGE_LIST  = 'header/CHANGE_LIST';\r\nexport const MOUSE_ENTER  = 'header/MOUSE_ENTER';\r\nexport const MOUSE_LEAVE  = 'header/MOUSE_LEAVE';\r\nexport const CHANGE_PAGE  = 'header/CHANGE_PAGE';","import { fromJS } from 'immutable';\r\nimport * as constants from './constants.js';\r\n\r\nconst defaultState = fromJS({\r\n\tlogin: false\r\n});\r\n\r\nexport default (state = defaultState, action) => {\r\n\tswitch(action.type) {\r\n\t\tcase constants.CHANGE_LOGIN:\r\n\t\t\treturn state.set('login', action.value);\r\n\t\tcase constants.LOGOUT:\r\n\t\t\treturn state.set('login', action.value);\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}","import axios from 'axios';\r\nimport * as constants from './constants.js';\r\n\r\nconst changeLogin = () => ({\r\n\ttype: constants.CHANGE_LOGIN,\r\n\tvalue: true\r\n})\r\n\r\nexport const login = (accout, password) => {\r\n\treturn (dispatch) => {\r\n\t\taxios.get('/react-jianshu-1/api/login.json?account=' + accout + '&password=' + password).then((res) => {\r\n\t\t\tconst result = res.data.data;\r\n\t\t\tif (result) {\r\n\t\t\t\tdispatch(changeLogin())\r\n\t\t\t}else {\r\n\t\t\t\talert('登陆失败')\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n//  点击退出修改数据\r\nexport const logout = () => ({\r\n\ttype: constants.LOGOUT,\r\n\tvalue: false\r\n})","export const CHANGE_LOGIN = 'login/CHANGE_LOGIN';\r\nexport const LOGOUT = 'login/LOGOUT';","import React from 'react';\r\nimport { HeaderWrapper,Logo,Nav,NavItem,NavSearch,Addition,Button,SearchInfo,SearchInfoTitle,SearchInfoSwitch,SearchInfoItem,SearchInfoList } from './style.js';\r\n//  接收store数据的主要模块\r\nimport { connect } from 'react-redux';\r\nimport { CSSTransition } from 'react-transition-group';\r\n//  引入action\r\nimport * as actionCreators from './store/actionCreator.js'\r\nimport { actionCreators as loginActionCreators } from '../../pages/login/store/index.js'\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Header extends React.Component {\r\n    //  根据聚焦与否显示搜索提示框\r\n    getListArea (){\r\n        const newList = this.props.list.toJS();\r\n        const pageList = [];\r\n        //  i=0,显示0-9条数据;i=1,显示10-19条数据......\r\n        //  根据点击切换i,切换显示的数据\r\n        if(newList.length){\r\n            for (let i = ( this.props.page - 1 ) * 10;i < this.props.page * 10; i++){\r\n                pageList.push(\r\n                    <SearchInfoItem key={ newList[i] }>{ newList[i] }</SearchInfoItem>\r\n                )  \r\n            }\r\n        }\r\n        //  鼠标点击和鼠标移入时显示热门搜索\r\n        if(this.props.focused || this.props.mouseIn){\r\n            return (\r\n                <SearchInfo onMouseEnter={this.props.handleMouseEnter} onMouseLeave={this.props.handleMouseLeave}>\r\n                    <SearchInfoTitle>\r\n                        热门搜索\r\n                        <SearchInfoSwitch onClick={ () => this.props.handleChangePage(this.props.page,this.props.pageTotal) }>换一换</SearchInfoSwitch>\r\n                    </SearchInfoTitle>\r\n                    <SearchInfoList>\r\n                        { pageList }\r\n                    </SearchInfoList>\r\n                </SearchInfo>\r\n            )\r\n        }else{\r\n            return null\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <HeaderWrapper>\r\n                <Link to=\"/\">\r\n                    <Logo />\r\n                </Link>\r\n                <Nav>\r\n                    <NavItem className='left active'>首页</NavItem>\r\n                    <NavItem className='left'>下载App</NavItem>\r\n                    {\r\n\t\t\t\t\t\tthis.props.login ? <NavItem className='right' onClick={this.props.logout}>退出</NavItem> : <Link to='/login'><NavItem className='right'>登陆</NavItem></Link>\r\n\t\t\t\t\t}\r\n                    <NavItem className='right'>Aa</NavItem>\r\n                    {/* 如果搜索框已聚焦,则给它增加一个类名focused,并且包裹它,给它一个动画效果 */}\r\n                    <CSSTransition in={this.props.focused} timeout={200} classNames=\"slide\"> \r\n                        <NavSearch className={this.props.focused ? 'focused': ''} onFocus={ () => this.props.handleInputFocus(this.props.list) } onBlur={this.props.handleInputBlur}></NavSearch>\r\n                    </CSSTransition>\r\n                    { this.getListArea() }\r\n                </Nav>\r\n                {/* 最右边按钮区域 */} \r\n                <Addition>\r\n                    <Link to=\"/write\">\r\n                        <Button className=\"writting\">写文章</Button>\r\n                    </Link>\r\n                    <Button className=\"reg\">注册</Button>\r\n                </Addition>\r\n            </HeaderWrapper>\r\n        )\r\n    }\r\n}\r\n\r\n//  将数据映射到本组件的props里,然后调用\r\nconst mapStateToProps = function(state){\r\n    return {\r\n        //  使用redux-immutable让总state也变成immutable对象,并且可以通过get获取\r\n        //  immutable对象的数据必须使用get方法调用\r\n        //  focused: state.get('header').get('focused')\r\n        focused: state.getIn([\"header\",\"focused\"]),\r\n        mouseIn: state.getIn([\"header\",\"mouseIn\"]),\r\n        list: state.getIn([\"header\",\"list\"]),\r\n        // 当前的页码\r\n        page: state.getIn([\"header\",\"page\"]),\r\n        pageTotal: state.getIn([\"header\",\"pageTotal\"]),\r\n        login: state.getIn([\"login\",\"login\"])\r\n    }\r\n}\r\n//  \r\nconst mapDispatchToProps = function(dispatch){\r\n    return {\r\n        //  传递list参数,阻止点击搜索框重复发送ajax请求\r\n        handleInputFocus(list){\r\n            if(list.size === 0){\r\n                dispatch(actionCreators.getList());\r\n            }\r\n            //  redux-thunk是redux的一个中间件,它使得我们可以在action中写函数\r\n            //  异步获取ajax数据\r\n            dispatch(actionCreators.searchFocus());\r\n        },\r\n        handleInputBlur(){\r\n            dispatch(actionCreators.searchBlur());\r\n        },\r\n        handleMouseEnter(){\r\n            dispatch(actionCreators.mouseEnter());\r\n        },\r\n        handleMouseLeave(){\r\n            dispatch(actionCreators.mouseLeave());\r\n        },\r\n        handleChangePage(page,pageTotal){\r\n            //  传递要显示第几页的参数\r\n            if(page < pageTotal){\r\n                dispatch(actionCreators.changePage(page+1));\r\n            }else{\r\n                dispatch(actionCreators.changePage(1));\r\n            }\r\n        },\r\n        logout() {\r\n\t\t\tdispatch(loginActionCreators.logout())\r\n\t\t}\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Header);","import * as constants from './constants.js'\r\n\r\n//  from对象可以帮我们把一个JS对象改为一个immutable对象\r\nimport { fromJS } from 'immutable'\r\n\r\nconst defaultState = fromJS({\r\n    focused:false,\r\n    mouseIn:false,\r\n    list:[],\r\n    //  搜索列表默认第几页和总页数\r\n    page:1,\r\n    pageTotal:1\r\n});\r\n\r\n//  此函数接收一个原始的state,并且返回一个新的state，不能对原始的state做修改\r\n//  immutable.js库的意义: 确保我们一定不能修改state中的数据\r\n//  immutable.js生成一个不可变对象即immutable对象,然后我们把state对象改为其及其\r\nexport default function(state=defaultState,action){\r\n    if(action.type === constants.SEARCH_FOCUS){\r\n        //  immutable对象的set方法,会结合之前的immutable对象的值和设置的值,根据比较,返回一个全新的对象\r\n        return state.set('focused',true);\r\n    }\r\n    if(action.type === constants.SEARCH_BLUR){\r\n        return state.set('focused',false);\r\n    }\r\n    if(action.type === constants.CHANGE_LIST){\r\n        return state.set('list',action.data).set('pageTotal',action.pageTotal);\r\n    }\r\n    if(action.type === constants.MOUSE_ENTER){\r\n        return state.set('mouseIn',action.data).set('mouseIn',true);\r\n    }\r\n    if(action.type === constants.MOUSE_LEAVE){\r\n        return state.set('mouseIn',action.data).set('mouseIn',false);\r\n    }\r\n    if(action.type === constants.CHANGE_PAGE){\r\n        return state.set('page',action.page);\r\n    }\r\n    return state;\r\n}","//  负责home页面的数据管理\r\nimport { fromJS } from 'immutable';\r\n\r\nimport * as constants from './constants.js';\r\n\r\n//  让这些数据在首页通过ajax获取再来填充\r\nconst defaultState = fromJS({\r\n\ttopicList: [],\r\n    articleList: [],\r\n    recommendList: [],\r\n    //  点击加载更多默认先加载第1页的数据\r\n    articlePage: 1,\r\n    //  默认不显示滚动按钮\r\n    showScroll: false\r\n});\r\n\r\nexport default (state = defaultState, action) => {\r\n\tswitch(action.type) {\r\n        //  填充首页的数据\r\n        case constants.CHANGE_HOME_DATA:\r\n\t\t\treturn state.merge({\r\n                topicList: fromJS(action.topicList),\r\n                articleList: fromJS(action.articleList),\r\n                recommendList: fromJS(action.recommendList)\r\n\t        });\r\n        //  点击加载更多按钮\r\n        case constants.ADD_ARTICLE_LIST:\r\n            return state.merge({\r\n                'articleList': state.get('articleList').concat(action.list),\r\n                'articlePage': action.nextPage\r\n            });\r\n        //  控制回到顶部按钮显示与否\r\n        case constants.TOGGLE_SCROLL_TOP:\r\n\t\t\treturn state.set('showScroll', action.show);\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}","import axios from 'axios';\r\nimport * as constants from './constants.js';\r\nimport { fromJS } from 'immutable';\r\n\r\n//  首页第一次请求被拆分\r\nconst changHomeData = (result) => ({\r\n\ttype: constants.CHANGE_HOME_DATA,\r\n\ttopicList: result.topicList,\r\n\tarticleList: result.articleList,\r\n\trecommendList: result.recommendList\r\n});\r\n//  首页加载更多按钮点击拆分函数\r\nconst addHomeList = (list,nextPage) => ({\r\n\ttype: constants.ADD_ARTICLE_LIST,\r\n\tlist: fromJS(list),\r\n    //  再把下一页传递给reducer\r\n    nextPage:nextPage\r\n})\r\n//  首页ajax请求json数据\r\nexport const getHomeInfo = () => {\r\n\treturn (dispatch) => {\r\n\t\taxios.get(\"/react-jianshu-1/api/home.json\").then((res) => {\r\n            const result = res.data.data\r\n            // 构建action,并且派发给store\r\n            dispatch(changHomeData(result));\r\n        })\r\n\t}\r\n}\r\n//  点击加载更多发送ajax请求\r\n//  然后往article里面加内容\r\nexport const getMoreList = (page) => {\r\n\treturn (dispatch) => {\r\n\t\taxios.get('/react-jianshu-1/api/homeList.json?page=' + page).then((res) => {\r\n\t\t\tconst result = res.data.data;\r\n\t\t\tdispatch(addHomeList(result, page + 1));\r\n\t\t});\r\n\t}\r\n}\r\n//  控制回到顶部的按钮显示与否\r\nexport const toggleTopShow = (show) => ({\r\n\ttype: constants.TOGGLE_SCROLL_TOP,\r\n\tshow:show\r\n})","export const CHANGE_HOME_DATA = 'home/CHANGE_HOME_DATA';\r\nexport const ADD_ARTICLE_LIST = 'home/ADD_ARTICLE_LIST';\r\nexport const TOGGLE_SCROLL_TOP = 'home/TOGGLE_SCROLL_TOP';","// 用combineReducers整个各个小的reducer\r\nimport { combineReducers } from 'redux-immutable'\r\nimport headerReducer from '../common/header/store/reducer.js'\r\n//  使用首页,详情页的reducer    中转站\r\nimport { reducer as homeReducer} from '../pages/home/store/index.js'\r\nimport { reducer as detailReducer } from '../pages/detail/store/index.js';\r\nimport { reducer as loginReducer } from '../pages/login/store/index.js';\r\n\r\nexport default combineReducers({\r\n    header: headerReducer,\r\n    home: homeReducer,\r\n    detail: detailReducer,\r\n    login: loginReducer\r\n})","import { createStore,compose,applyMiddleware } from 'redux';\r\nimport reducer from './reducer.js'\r\nimport thunk from \"redux-thunk\"\r\n//  redux-devtools要用\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n\r\nconst store = createStore(reducer,composeEnhancers(\r\n    //  正确的使用redux-thunk中间件\r\n    applyMiddleware(thunk)\r\n));\r\n\r\nexport default store;","import styled from 'styled-components';\r\n\r\n//  home页面除了header的最外层容器\r\nexport const HomeWrapper = styled.div`\r\n\toverflow: hidden;\r\n\twidth: 960px;\r\n\tmargin: 0 auto;\r\n`;\r\n\r\n//  home页面左栏布局\r\nexport const HomeLeft = styled.div`\r\n\tfloat: left;\r\n\tmargin-left: 15px;\r\n\tpadding-top: 30px;\r\n\twidth: 625px;\r\n\t.banner-img {\r\n\t\twidth: 625px;\r\n\t\theight: 270px;\r\n\t}\r\n`;\r\n//  home页面右栏布局\r\nexport const HomeRight = styled.div`\r\n\twidth: 280px;\r\n\tfloat: right;\r\n`;\r\n// 所有的item最外层容器组件\r\nexport const TopicWrapper = styled.div`\r\n\toverflow: hidden;\r\n\tpadding: 20px 0 10px 0;\r\n\tmargin-left: -18px;\r\n\tborder-bottom: 1px solid #dcdcdc;\r\n`;\r\n//  具体的每个小item\r\nexport const TopicItem = styled.div`\r\n\tfloat: left;\r\n\theight: 32px;\r\n\tline-height: 32px;\r\n\tmargin-left: 18px;\r\n\tmargin-bottom: 18px;\r\n\tpadding-right: 10px\r\n\tbackground: #f7f7f7;\r\n\tfont-size: 14px;\r\n\tcolor: #000;\r\n\tborder: 1px solid #dcdcdc;\r\n\tborder-radius: 4px;\r\n\t.topic-pic {\r\n\t\tdisplay: block;\r\n\t\tfloat: left;\r\n\t\twidth: 32px;\r\n\t\theight: 32px;\r\n\t\tmargin-right: 10px;\r\n\t}\r\n`;\r\n//  列表最外层容器\r\nexport const ListItem = styled.div`\r\n\toverflow: hidden;\r\n\tpadding: 20px 0;\r\n\tborder-bottom: 1px solid #dcdcdc;\r\n\t.pic {\r\n\t\tdisplay: block;\r\n\t\twidth: 125px;\r\n\t\theight: 100px;\r\n\t\tfloat: right;\r\n\t\tborder-radius: 10px;\r\n\t}\r\n`;\r\n//   列表详细信息\r\nexport const ListInfo =\tstyled.div`\r\n\twidth: 500px;\r\n\tfloat: left;\r\n\t.title {\r\n\t\tline-height: 27px;\r\n\t\tfont-size: 18px;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t}\r\n\t.desc {\r\n\t\tline-height: 24px;\r\n\t\tfont-size: 13px;\r\n\t\tcolor: #999;\r\n\t}\r\n`;\r\n//  推荐包裹容器\r\nexport const RecommendWrapper = styled.div`\r\n\tmargin: 30px 0;\r\n\twidth: 280px;\r\n`;\r\n//  推荐具体每个内容\r\nexport const RecommendItem = styled.div`\r\n\twidth: 280px;\r\n\theight: 50px;\r\n\tbackground: url(${(props) => props.imgUrl});\r\n\tbackground-size: contain;\r\n`;\r\n//  作业: 作者列表\r\nexport const WriterWrapper = styled.div`\r\n\twidth: 278px;\r\n\tborder: 1px solid #dcdcdc;\r\n\tborder-radius: 3px;\r\n\theight: 300px;\r\n\tline-height: 300px;\r\n\ttext-align: center;\r\n`;\r\n//  加载更多按钮\r\nexport const LoadMore = styled.div`\r\n\twidth: 100%;\r\n\theight: 40px;\r\n\tline-height: 40px;\r\n\tmargin: 30px 0;\r\n\tbackground: #a5a5a5;\r\n\ttext-align:center;\r\n\tborder-radius: 20px;\r\n\tcolor: #fff;\r\n\tcursor: pointer;\r\n`;\r\n//  回到顶部按钮\r\nexport const BackTop = styled.div`\r\n\tposition: fixed;\r\n\tright: 100px;\r\n\tbottom: 100px;\r\n\twidth: 60px;\r\n\theight: 60px;\r\n\tline-height: 60px;\r\n\ttext-align: center;\r\n\tborder: 1px solid #ccc;\r\n\tfont-size: 14px;\r\n`","import React,{ PureComponent } from \"react\"\r\nimport { connect } from 'react-redux';\r\nimport { TopicWrapper, TopicItem } from '../style';\r\n\r\nclass Topic extends PureComponent {\r\n    render(){\r\n        return (\r\n            <TopicWrapper>\r\n                {\r\n                    this.props.list.map((x)=>(\r\n                        <TopicItem key = { x.get('id') }>\r\n                            <img src={ x.get('imgUrl') } className='topic-pic' alt=''/>\r\n                            { x.get('title') }\r\n                        </TopicItem>\r\n                    ))\r\n                }\r\n            </TopicWrapper>\r\n        )\r\n    }\r\n}\r\n\r\n//  连接,让首页能使用reducer的数据\r\nconst mapState = (state) => ({\r\n\tlist: state.getIn(['home', 'topicList'])\r\n});\r\n\r\nexport default connect(mapState, null)(Topic);","import React,{ PureComponent } from \"react\"\r\nimport { connect } from 'react-redux';\r\nimport { ListItem, ListInfo,LoadMore } from \"../style.js\"\r\n//  加载更多需要派发action\r\nimport { actionCreators } from '../store/index.js';\r\n// 做路由跳转\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass List extends PureComponent {\r\n    render() {\r\n        return (\r\n            <div>\r\n                {\r\n                    this.props.list.map((x,index) => {\r\n                        return (\r\n                            <Link key={ index } to = {'/detail/' + x.get('id')}>\r\n                                <ListItem>\r\n                                    <img src={ x.get('imgUrl') } alt=\"\" className=\"pic\" />\r\n                                    <ListInfo>\r\n                                        <h3 className=\"title\">{ x.get(\"title\") }</h3>\r\n                                        <p className=\"desc\">{ x.get(\"desc\") }</p>\r\n                                    </ListInfo>\r\n                                </ListItem>\r\n                            </Link>\r\n                        );\r\n                    })\r\n                }\r\n                <LoadMore onClick={() => this.props.getMoreList(this.props.page)}>阅读更多</LoadMore>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapState = (state) => ({\r\n    list: state.getIn(['home', 'articleList']),\r\n    page: state.getIn(['home', 'articlePage'])\r\n});\r\n\r\nconst mapDispatch = (dispatch) => ({\r\n\tgetMoreList(page) {\r\n\t\tdispatch(actionCreators.getMoreList(page))\r\n\t}\r\n})\r\n\r\nexport default connect(mapState,mapDispatch)(List);","import React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { RecommendWrapper, RecommendItem } from '../style.js';\r\n\r\nclass Recommend extends PureComponent {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<RecommendWrapper>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.props.list.map((item) => {\r\n\t\t\t\t\t\treturn <RecommendItem imgUrl = { item.get('imgUrl') } key = { item.get('id') }/>\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</RecommendWrapper>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapState = (state) => ({\r\n\tlist: state.getIn(['home', 'recommendList'])\r\n})\r\n\r\nexport default connect(mapState, null)(Recommend);","import React, { PureComponent } from 'react';\r\nimport { WriterWrapper } from '../style.js';\r\n\r\nclass Writer extends PureComponent {\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<WriterWrapper>to be completed</WriterWrapper>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Writer;\r\n","import React,{ PureComponent } from \"react\"\r\nimport { HomeWrapper, HomeLeft, HomeRight, BackTop } from './style.js'\r\n//  引入这个页面的所有组件\r\nimport Topic from './components/Topic.js';\r\nimport List from './components/List.js';\r\nimport Recommend from './components/Recommend.js';\r\nimport Writer from './components/Writer.js';\r\n\r\n//  请求数据并且连接store\r\n// import axios from \"axios\"\r\nimport { actionCreators } from './store/index.js';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Home extends PureComponent {\r\n    handleScrollTop(){\r\n        window.scrollTo(0,0)\r\n    }\r\n    render() {\r\n        return (\r\n            <HomeWrapper>\r\n                <HomeLeft>\r\n                    <img className='banner-img' alt='' src=\"//upload.jianshu.io/admin_banners/web_images/4318/60781ff21df1d1b03f5f8459e4a1983c009175a5.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540\" />\r\n                    <Topic />\r\n                    <List />\r\n                </HomeLeft>\r\n                <HomeRight>\r\n                    <Recommend />\r\n                    <Writer />\r\n                </HomeRight>\r\n                { this.props.showScroll ? <BackTop onClick={this.handleScrollTop}>回到顶部</BackTop> : null}\r\n            </HomeWrapper>\r\n        )\r\n    }\r\n    // 借助生命周期函数,发送ajax请求\r\n    //  ui组件尽量不要写逻辑\r\n    componentDidMount() {\r\n        this.props.changeHomeData();\r\n        this.bindEvents();\r\n    }\r\n    //  组件销毁时把window的事件解绑,这样这个组件销毁以后就不会影响其他组件了\r\n    componentWillUnmount() {\r\n\t\twindow.removeEventListener('scroll', this.props.changeScrollTopShow);\r\n\t}\r\n    bindEvents(){\r\n        window.addEventListener('scroll',this.props.changeScrollTopShow)\r\n    }\r\n}\r\n\r\n//  拿到是否显示滚动按钮的数据\r\nconst mapState = (state) => ({\r\n\tshowScroll: state.getIn(['home', 'showScroll'])\r\n})\r\n\r\n//  切记这里写在组件的外面\r\nconst mapDispatch = (dispatch) => ({\r\n        changeHomeData(){\r\n            dispatch(actionCreators.getHomeInfo())\r\n        },\r\n        changeScrollTopShow(e){\r\n            //  滚动了400px以后才显示此按钮\r\n            if(document.documentElement.scrollTop>100){\r\n                dispatch(actionCreators.toggleTopShow(true))\r\n            }else{\r\n                dispatch(actionCreators.toggleTopShow(false))\r\n            }\r\n        }\r\n    });\r\n\r\nexport default connect(mapState, mapDispatch)(Home);","import React from 'react';\r\nimport Loadable from 'react-loadable';\r\n\r\nconst LoadableComponent = Loadable({\r\n  //  异步获取当前组件\r\n  loader: () => import('./'),\r\n  loading() {\r\n  \treturn <div>正在加载</div>\r\n  }\r\n});\r\n\r\n//  导出一个无状态组件\r\nexport default () => <LoadableComponent/>\r\n","import styled from 'styled-components';\r\n\r\n//  登录页面最外层容器\r\nexport const LoginWrapper = styled.div`\r\n\tz-index: 0;\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\ttop: 56px;\r\n\tbackground: #eee;\r\n`;\r\n\r\nexport const LoginBox = styled.div`\r\n\twidth: 400px;\r\n\theight: 180px;\r\n\tmargin: 100px auto;\r\n\tpadding-top: 20px;\r\n\tbackground: #fff;\r\n\tbox-shadow: 0 0 8px rgba(0,0,0,.1);\r\n`;\r\n\r\nexport const Input = styled.input`\r\n\tdisplay: block;\r\n\twidth: 200px;\r\n\theight: 30px;\r\n\tline-height: 30px;\r\n\tpadding: 0 10px;\r\n\tmargin: 10px auto;\r\n\tcolor: #777;\r\n`;\r\n\r\nexport const Button = styled.div`\r\n\twidth: 220px;\r\n\theight: 30px;\r\n\tline-height: 30px;\r\n\tcolor: #fff;\r\n\tbackground: #3194d0;\r\n\tborder-radius: 15px;\r\n\tmargin: 10px auto;\r\n\ttext-align: center;\r\n`;","import React, { PureComponent } from 'react';\r\n//  引入重定向组件\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { LoginWrapper, LoginBox, Input, Button } from './style.js';\r\nimport { actionCreators } from './store/index.js';\r\n\r\nclass Login extends PureComponent {\r\n\trender() {\r\n        if(!this.props.loginStatus){\r\n            return (\r\n                <LoginWrapper>\r\n                    <LoginBox>\r\n                        <Input placeholder='账号' ref={(input) => {this.account = input}} />\r\n                        <Input placeholder='密码' type='password' ref={(input) => {this.password = input}}/>\r\n                        <Button onClick={() => this.props.login(this.account, this.password)}>登陆</Button>\r\n                    </LoginBox>\r\n                </LoginWrapper>\r\n            )\r\n        }else{\r\n            return <Redirect to='/'/>\r\n        }\r\n\t}\r\n}\r\n\r\n//  登录成功以后跳回首页\r\nconst mapState = (state) => ({\r\n\tloginStatus: state.getIn(['login', 'login'])\r\n})\r\n\r\nconst mapDispatch = (dispatch) => ({\r\n    //  下面两个参数是真实的dom\r\n\tlogin(accountElem, passwordElem){\r\n\t\tdispatch(actionCreators.login(accountElem.value, passwordElem.value))\r\n\t}\r\n})\r\n\r\nexport default connect(mapState, mapDispatch)(Login);","import React, { PureComponent } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\n//  只有登录了以后才可以写文章\r\nclass Write extends PureComponent {\r\n\trender() {\r\n\t\tconst { loginStatus } = this.props;\r\n\t\tif (loginStatus) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>写文章页面</div>\r\n\t\t\t)\r\n\t\t}else {\r\n\t\t\treturn <Redirect to='/login'/>\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst mapState = (state) => ({\r\n\tloginStatus: state.getIn(['login', 'login'])\r\n})\r\n\r\nexport default connect(mapState, null)(Write);","import React from 'react';\n// 引入头部组件\nimport Header from './common/header/index.js';\n//  页面所有的公共数据/store都放在这里\nimport store from './store/index.js';\n//  传递store数据的主要模块\nimport { Provider } from 'react-redux';\n\n//  引入路由\nimport { BrowserRouter,Route } from \"react-router-dom\"\n//  引入路由渲染需要的组件\nimport Home from \"./pages/home/index.js\"\nimport Detail from \"./pages/detail/loadable.js\"\nimport Login from \"./pages/login/index.js\"\nimport Write from './pages/write';\n\n\nclass App extends React.Component {\n  render() {\n    return (\n        <Provider store={store}>\n            <BrowserRouter>\n                <div>\n                    <Header/>\n                    <Route path='/' exact component = { Home }></Route>\n                    <Route path='/login' exact component = { Login }></Route>\n                    <Route path='/detail/:id' exact component = { Detail }></Route>\n                    <Route path='/write' exact component={Write}></Route>\n                </div>\n            </BrowserRouter>\n        </Provider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App.js';\r\nimport './style.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}